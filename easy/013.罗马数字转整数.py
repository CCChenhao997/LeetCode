'''
ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦: Iï¼Œ Vï¼Œ Xï¼Œ Lï¼ŒCï¼ŒD å’Œ Mã€‚

å­—ç¬¦          æ•°å€¼
I             1
V             5
X             10
L             50
C             100
D             500
M             1000

ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åšÂ IIÂ ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åšÂ XIIÂ ï¼Œå³ä¸ºÂ XÂ +Â IIÂ ã€‚ 
27 å†™åšÂ Â XXVII, å³ä¸ºÂ XXÂ +Â VÂ +Â IIÂ ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åšÂ IIIIï¼Œ
è€Œæ˜¯Â IVã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚
åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸ºÂ IXã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š
IÂ å¯ä»¥æ”¾åœ¨Â VÂ (5) å’ŒÂ XÂ (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
XÂ å¯ä»¥æ”¾åœ¨Â LÂ (50) å’ŒÂ CÂ (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’ŒÂ 90ã€‚Â 
CÂ å¯ä»¥æ”¾åœ¨Â DÂ (500) å’ŒÂ MÂ (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤ºÂ 400 å’ŒÂ 900ã€‚

ç»™å®šä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°ã€‚è¾“å…¥ç¡®ä¿åœ¨ 1 åˆ° 3999 çš„èŒƒå›´å†…ã€‚

ç¤ºä¾‹Â 1:
è¾“å…¥:Â "III"
è¾“å‡º: 3

ç¤ºä¾‹Â 2:
è¾“å…¥:Â "IV"
è¾“å‡º: 4

ç¤ºä¾‹Â 3:
è¾“å…¥:Â "IX"
è¾“å‡º: 9

ç¤ºä¾‹Â 4:
è¾“å…¥:Â "LVIII"
è¾“å‡º: 58
è§£é‡Š: L = 50, V= 5, III = 3.

ç¤ºä¾‹Â 5:
è¾“å…¥:Â "MCMXCIV"
è¾“å‡º: 1994
è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.

é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/roman-to-integer
'''


'''
# è‡ªå·±çš„èœğŸ”è§£æ³•
class Solution:
    def romanToInt(self, s: str) -> int:
        Rome_dict = {'M':1000, 'D':500, 'C':100, 'L':50, 'X':10, 'V':5, 'I':1}
        s_len = len(s)
        sum = 0
        i = 0
        if s_len >= 2:
            while i < s_len:
                if  i <= (s_len - 2) and Rome_dict[s[i]] < Rome_dict[s[i+1]]:
                    sum = sum + Rome_dict[s[i+1]] - Rome_dict[s[i]]
                    i += 2
                else:
                    sum += Rome_dict[s[i]]
                    i += 1
        else: sum += Rome_dict[s[i]]
        return sum
'''


'''
1.æ„å»ºä¸€ä¸ªå­—å…¸è®°å½•æ‰€æœ‰ç½—é©¬æ•°å­—å­ä¸²ï¼Œæ³¨æ„é•¿åº¦ä¸º2çš„å­ä¸²è®°å½•çš„å€¼æ˜¯ï¼ˆå®é™…å€¼ - å­ä¸²å†…å·¦è¾¹ç½—é©¬æ•°å­—ä»£è¡¨çš„æ•°å€¼ï¼‰
2.è¿™æ ·ä¸€æ¥ï¼Œéå†æ•´ä¸ª s çš„æ—¶å€™åˆ¤æ–­å½“å‰ä½ç½®å’Œå‰ä¸€ä¸ªä½ç½®çš„ä¸¤ä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²æ˜¯å¦åœ¨å­—å…¸å†…ï¼Œå¦‚æœåœ¨å°±è®°å½•å€¼ï¼Œä¸åœ¨å°±è¯´æ˜å½“å‰ä½ç½®ä¸å­˜åœ¨å°æ•°å­—åœ¨å‰é¢çš„æƒ…å†µï¼Œç›´æ¥è®°å½•å½“å‰ä½ç½®å­—ç¬¦å¯¹åº”å€¼
ä¸¾ä¸ªä¾‹å­ï¼Œéå†ç»è¿‡ IV çš„æ—¶å€™å…ˆè®°å½• I çš„å¯¹åº”å€¼ 1 å†å¾€å‰ç§»åŠ¨ä¸€æ­¥è®°å½• IV çš„å€¼ 3ï¼ŒåŠ èµ·æ¥æ­£å¥½æ˜¯ IV çš„çœŸå®å€¼ 4ã€‚max å‡½æ•°åœ¨è¿™é‡Œæ˜¯ä¸ºäº†é˜²æ­¢éå†ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™å‡ºç° [-1:0] çš„æƒ…å†µ
'''
# åˆ«äººçš„é«˜ç«¯è§£æ³•
class Solution:
    def romanToInt(self, s: str) -> int:
        d = {'I':1, 'IV':3, 'V':5, 'IX':8, 'X':10, 'XL':30, 'L':50, 'XC':80, 'C':100, 'CD':300, 'D':500, 'CM':800, 'M':1000}
        return sum(d.get(s[max(i-1, 0):i+1], d[n]) for i, n in enumerate(s))    # å­—å…¸get(key, default=None)æ–¹æ³•: è¿”å›æŒ‡å®šé”®çš„å€¼ï¼Œå¦‚æœæŒ‡å®šé”®çš„å€¼ä¸åœ¨å­—å…¸ä¸­è¿”å›æŒ‡å®šå€¼ï¼Œé»˜è®¤ä¸º Noneã€‚



if __name__=='__main__':
    s = input("è¯·è¾“å…¥ä¸€ä¸ªç½—é©¬æ•°å­—:")
    X = Solution()
    print(X.romanToInt(s))